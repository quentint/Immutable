<!DOCTYPE html>
<html>
<head>
    <title>innmind/immutable</title>
    <link rel="stylesheet" href="https://innmind.github.io/Immutable/static/main.css"/>
    <link rel="stylesheet" href="https://innmind.github.io/Immutable/static/styles/default.css"/>
    <link rel="stylesheet" href="https://innmind.github.io/Immutable/static/styles/atom-one-dark.css"/>
    <script src="https://innmind.github.io/Immutable/static/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
    <header>
        <a href="https://innmind.github.io/Immutable/"><code>immutable</code></a>
    </header>
    <aside>
        <ul>
                    <li>
                                    <a href="https://innmind.github.io/Immutable/index.html">
                        Getting started
                    </a>
                            </li>
                    <li>
                                    <details open>
                        <summary>
                                                            Structures
                                                    </summary>
                        <ul>
                                                            <li class="sub-item ">
                                    <a href="https://innmind.github.io/Immutable/SEQUENCE.html">
                                        Sequence
                                    </a>
                                </li>
                                                            <li class="sub-item ">
                                    <a href="https://innmind.github.io/Immutable/SET.html">
                                        Set
                                    </a>
                                </li>
                                                            <li class="sub-item ">
                                    <a href="https://innmind.github.io/Immutable/MAP.html">
                                        Map
                                    </a>
                                </li>
                                                            <li class="sub-item ">
                                    <a href="https://innmind.github.io/Immutable/STR.html">
                                        Str
                                    </a>
                                </li>
                                                            <li class="sub-item ">
                                    <a href="https://innmind.github.io/Immutable/REGEXP.html">
                                        RegExp
                                    </a>
                                </li>
                                                            <li class="sub-item ">
                                    <a href="https://innmind.github.io/Immutable/MAYBE.html">
                                        Maybe
                                    </a>
                                </li>
                                                            <li class="sub-item ">
                                    <a href="https://innmind.github.io/Immutable/EITHER.html">
                                        Either
                                    </a>
                                </li>
                                                            <li class="sub-item ">
                                    <a href="https://innmind.github.io/Immutable/STATE.html">
                                        State
                                    </a>
                                </li>
                                                            <li class="sub-item current">
                                    <a href="https://innmind.github.io/Immutable/MONOIDS.html">
                                        Monoids
                                    </a>
                                </li>
                                                    </ul>
                    </details>
                            </li>
                    <li>
                                    <details open>
                        <summary>
                                                            Use cases
                                                    </summary>
                        <ul>
                                                            <li class="sub-item ">
                                    <a href="https://innmind.github.io/Immutable/LAZY_FILE.html">
                                        How to read a file
                                    </a>
                                </li>
                                                            <li class="sub-item ">
                                    <a href="https://innmind.github.io/Immutable/PARSING.html">
                                        Parsing strings
                                    </a>
                                </li>
                                                    </ul>
                    </details>
                            </li>
                    <li>
                                    <a href="https://innmind.github.io/Immutable/BLACKBOX.html">
                        Blackbox
                    </a>
                            </li>
                    <li>
                                    <a href="https://innmind.github.io/Immutable/PHILOSOPHY.html">
                        Philosophy
                    </a>
                            </li>
                </ul>
    </aside>
    <main><h1 id="monoids"><a href="#monoids" class="anchor">#</a>Monoids</h1>
<p>Monoids describe a way to combine two values of a given type. A monoid contains an identity value that when combined with another value doesn't change its value. The combine operation has to be associative meaning <code>combine(a, combine(b, c))</code> is the same as <code>combine(combine(a, b), c)</code>.</p>
<p>A simple monoid is an addition because adding <code>0</code> (the identity value) to any other integer won't change the value and <code>add(1, add(2, 3))</code> is the the same result as <code>add(add(1, 2), 6)</code> (both return 6).</p>
<p>This library comes with a few monoids:</p>
<ul>
<li><code>Innmind\Immutable\Monoid\Concat</code> to append 2 instances of <code>Innmind\Immutable\Str</code> together</li>
<li><code>Innmind\Immutable\Monoid\Append</code> to append 2 instances of <code>Innmind\Immutable\Sequence</code> together</li>
<li><code>Innmind\Immutable\Monoid\MergeSet</code> to append 2 instances of <code>Innmind\Immutable\Set</code> together</li>
<li><code>Innmind\Immutable\Monoid\MergeMap</code> to append 2 instances of <code>Innmind\Immutable\Map</code> together</li>
</ul>
<h2 id="create-your-own"><a href="#create-your-own" class="anchor">#</a>Create your own</h2>
<p>To make sure your own monoid follows the laws this library comes with properties you can use in your test like so:</p>
<pre><code class="language-php">use PHPUnit\Framework\TestCase;
use Innmind\BlackBox\{
    PHPUnit\BlackBox,
    Set,
};
use Properties\Innmind\Immutable\Monoid;

class YourMonoidTest extends TestCase
{
    use BlackBox;

    /**
     * @dataProvider properties
     */
    public function testHoldProperty($property)
    {
        $this
            ->forAll($property)
            ->then(static function($property) {
                $property->ensureHeldBy(new YourMonoid);
            });
    }

    public function testHoldProperties()
    {
        $this
            ->forAll(Monoid::properties($this->set(), $this->equals()))
            ->then(static function($properties) {
                $properties->ensureHeldBy(new YourMonoid);
            });
    }

    public function properties(): iterable
    {
        foreach (Monoid::list($this->set(), $this->equals()) as $property) {
            yield [$property];
        }
    }

    public function equals(): callable
    {
        return static fn($a, $b) => /* this callable is the way to check that 2 values are equal */;
    }

    private function set(): Set
    {
        // this Set must generate values that are of the type your monoid understands
        return /* an instance of Set */
    }
}
</code></pre></main>
    <footer>
        <a href="https://github.com/innmind/Immutable/" target="_blank">GitHub</a>
    </footer>
</body>
</html>